using Gtk 4.0;

template $AlbumCard : Box {
  valign: start;

  styles [
    "hover-parent",
  ]

  Box {
    orientation: vertical;
    hexpand: false;
    spacing: 6;

    Overlay {
      styles [
        "br-9",
        "card",
      ]

      overflow: hidden;

      [overlay]
      Button play_button {
        halign: end;
        valign: end;
        margin-bottom: 6;
        margin-end: 6;

        styles [
          "circular",
          "osd",
          "hover-child",
        ]

        Image {
          icon-name: "media-playback-start-symbolic";
        }
      }

      Box image_box {
        styles [
          "thumbnail",
        ]

        Image image {
          icon-name: "image-missing-symbolic";
          pixel-size: 160;
        }
      }
    }

    Box meta {
      orientation: vertical;
      spacing: 3;

      Label title {
        label: "";
        hexpand: true;
        max-width-chars: 1;
        ellipsize: end;
        xalign: 0;
        wrap: true;
        wrap-mode: char;

        styles [
          "heading",
        ]
      }

      Box second-line {
        spacing: 6;

        styles [
          "dim-label",
        ]

        Image explicit {
          visible: false;
          valign: start;
          icon-name: "network-cellular-edge-symbolic";
        }

        Box subtitle_box {
          spacing: 6;

          Label album_type {
            label: "Album";
          }

          Label separator {
            label: "Â·";

            styles [
              "heading",
            ]
          }

          Label subtitle {
            label: "";
            hexpand: true;
            max-width-chars: 1;
            ellipsize: end;
            xalign: 0;
          }
        }
      }
    }
  }
}
